# AI-Buyer: Machine Learning Powered Facebook Advertising Platform

AI-Buyer - —Ü–µ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó Facebook —Ä–µ–∫–ª–∞–º–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–∞–¥–∞—î –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è CTR, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –±—é–¥–∂–µ—Ç—É, –≤–∏—è–≤–ª–µ–Ω–Ω—è –∞–Ω–æ–º–∞–ª—ñ–π —Ç–∞ real-time –∞–Ω–∞–ª—ñ—Ç–∏–∫—É.

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### Machine Learning

- **CTR Prediction**: –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è Click-Through Rate –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ DeepCTR
- **Budget Optimization**: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É –±—é–¥–∂–µ—Ç—É –∑ Prophet –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
- **Anomaly Detection**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è –∞–Ω–æ–º–∞–ª—ñ–π —É —Ä–µ–∫–ª–∞–º–Ω–∏—Ö –∫–∞–º–ø–∞–Ω—ñ—è—Ö
- **Real-time Predictions**: –ú–∏—Ç—Ç—î–≤—ñ –ø—Ä–æ–≥–Ω–æ–∑–∏ —á–µ—Ä–µ–∑ ML API

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

- **FastAPI Backend**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π Python –±–µ–∫–µ–Ω–¥ –∑ ML –º–æ–¥–µ–ª—è–º–∏
- **React TypeScript Frontend**: –°—É—á–∞—Å–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **ClickHouse Database**: –í–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Kafka Streaming**: Real-time –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö
- **MLflow**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–µ—Ä—Å—ñ—è–º–∏ ML –º–æ–¥–µ–ª–µ–π
- **Celery + Redis**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –∑–∞–¥–∞—á—ñ —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è

### DevOps —Ç–∞ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

- **Docker Compose**: –ü–æ–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
- **Prometheus + Grafana**: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫
- **Nginx**: Reverse proxy —Ç–∞ load balancing
- **Automated Tasks**: –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –ø–µ—Ä–µ–Ω–∞–≤—á–∞–Ω–Ω—è –º–æ–¥–µ–ª–µ–π

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

### –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

- Docker 20.0+
- Docker Compose 2.0+
- Python 3.11+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏)
- Node.js 18+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏)
- 8GB+ RAM (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- 50GB+ –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è

### Facebook API

- Facebook Developer Account
- Facebook App ID —Ç–∞ App Secret
- –î–æ—Å—Ç—É–ø –¥–æ Facebook Marketing API

## üõ† –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone <repository-url>
cd ai-buyer
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –ö–æ–ø—ñ—é–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
cp .env.development .env.local

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env.local –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
nano .env.local
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Facebook API

–î–æ–¥–∞–π—Ç–µ –≤–∞—à—ñ –¥–∞–Ω—ñ Facebook API —É `.env.local`:

```bash
FACEBOOK_APP_ID=your_app_id_here
FACEBOOK_APP_SECRET=your_app_secret_here
```

### 4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
# –ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose up -d

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f

# –ó—É–ø–∏–Ω–∫–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose down
```

### 5. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –ó–∞–ø—É—Å–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π ClickHouse
docker-compose exec backend python -m alembic upgrade head

# –ê–±–æ –≤—Ä—É—á–Ω—É
docker-compose exec clickhouse clickhouse-client < backend/migrations/001_clickhouse_schema.sql
```

## üåê –î–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤

### –û—Å–Ω–æ–≤–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏

- **Frontend**: <http://localhost:3000>
- **Backend API**: <http://localhost:8000>
- **API Documentation**: <http://localhost:8000/docs>

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è

- **ClickHouse**: <http://localhost:8123>
- **Kafka UI**: <http://localhost:8080>
- **MLflow**: <http://localhost:5000>
- **MinIO**: <http://localhost:9001>
- **Prometheus**: <http://localhost:9090>
- **Grafana**: <http://localhost:3001> (admin/admin)

### Development Tools

- **Redis**: localhost:6379
- **Kafka**: localhost:9092

## üîß –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞

### Backend —Ä–æ–∑—Ä–æ–±–∫–∞

```bash
cd backend

# –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∞–±–æ
venv\\Scripts\\activate  # Windows

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–æ–∑—Ä–æ–±–∫–∏
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

### Frontend —Ä–æ–∑—Ä–æ–±–∫–∞

```bash
cd frontend

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–æ–∑—Ä–æ–±–∫–∏
npm run dev
```

### Celery Worker (–¥–ª—è ML –∑–∞–¥–∞—á)

```bash
cd backend

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å Celery worker
celery -A backend.tasks.celery_app worker --loglevel=info --concurrency=4

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å Celery beat (–¥–ª—è –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫–∞)
celery -A backend.tasks.celery_app beat --loglevel=info
```

## üìä –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ML —Ñ—É–Ω–∫—Ü—ñ–π

### CTR Prediction

```python
from backend.ml.models.ctr_predictor import CTRPredictor

predictor = CTRPredictor()
features = {
    'age_range': '25-34',
    'gender': 'all',
    'device_platform': 'mobile',
    'bid_amount': 1.50,
    'ad_relevance_score': 8
}

prediction = predictor.predict(features)
print(f"Predicted CTR: {prediction['ctr_prediction']:.4f}")
```

### Budget Optimization

```python
from backend.ml.models.budget_optimizer import BudgetOptimizer

optimizer = BudgetOptimizer()
campaigns = [
    {'campaign_id': 'camp1', 'current_budget': 100},
    {'campaign_id': 'camp2', 'current_budget': 200}
]

recommendations = optimizer.optimize_budget_allocation(campaigns)
print(f"Optimization complete: {len(recommendations)} recommendations")
```

### Real-time Streaming

```python
from backend.services.streaming_service import get_streaming_service

# –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö –∫–∞–º–ø–∞–Ω—ñ—ó
service = get_streaming_service()
await service.stream_campaign_data(
    user_id="user123",
    campaigns_data=[campaign_metrics]
)
```

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥–∏

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤

```bash
# –í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f celery-worker
```

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

- **Grafana Dashboard**: <http://localhost:3001>
- **Prometheus Metrics**: <http://localhost:9090>
- **ML Model Metrics**: <http://localhost:5000> (MLflow)

### Health Checks

```bash
# Backend health
curl http://localhost:8000/health

# ML models status
curl http://localhost:8000/api/v1/ml/health

# Database status
curl http://localhost:8123/ping
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### Backend —Ç–µ—Å—Ç–∏

```bash
cd backend
pytest tests/ -v --cov=backend
```

### Frontend —Ç–µ—Å—Ç–∏

```bash
cd frontend
npm run test
npm run test:coverage
```

### Integration —Ç–µ—Å—Ç–∏

```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø–æ–≤–Ω–∏–π —Ç–µ—Å—Ç–æ–≤–∏–π —Å—Ç–µ–∫
docker-compose -f docker-compose.test.yml up --abort-on-container-exit
```

## üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### ML API Endpoints

- `POST /api/v1/ml/predict/ctr` - CTR –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è
- `POST /api/v1/ml/optimize/budget` - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –±—é–¥–∂–µ—Ç—É
- `GET /api/v1/ml/detect/anomalies` - –í–∏—è–≤–ª–µ–Ω–Ω—è –∞–Ω–æ–º–∞–ª—ñ–π
- `GET /api/v1/ml/models` - –°–ø–∏—Å–æ–∫ ML –º–æ–¥–µ–ª–µ–π

### Campaign API Endpoints

- `GET /api/v1/campaigns` - –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω—ñ–π
- `POST /api/v1/campaigns` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—ó
- `PUT /api/v1/campaigns/{id}` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—ó
- `GET /api/v1/campaigns/{id}/metrics` - –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞–º–ø–∞–Ω—ñ—ó

### Analytics API Endpoints

- `GET /api/v1/analytics/dashboard` - Dashboard –¥–∞–Ω—ñ
- `GET /api/v1/analytics/performance` - –ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- `GET /api/v1/analytics/trends` - –ê–Ω–∞–ª—ñ–∑ —Ç—Ä–µ–Ω–¥—ñ–≤

## üöÄ –ü—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–π

### AWS/GCP/Azure

```bash
# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É
export ENVIRONMENT=production
export CLICKHOUSE_HOST=your-clickhouse-host
export KAFKA_BOOTSTRAP_SERVERS=your-kafka-cluster
export MLFLOW_TRACKING_URI=your-mlflow-server

# –î–µ–ø–ª–æ–π –∑ Docker
docker-compose -f docker-compose.prod.yml up -d
```

### Kubernetes

```bash
# –ó–∞—Å—Ç–æ—Å—É–π—Ç–µ Kubernetes –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
kubectl apply -f k8s/

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å
kubectl get pods -n ai-buyer
```

## üõ° –ë–µ–∑–ø–µ–∫–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

- –ó–º—ñ–Ω—ñ—Ç—å –≤—Å—ñ –ø–∞—Ä–æ–ª—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS —É –ø—Ä–æ–¥–∞–∫—à–Ω—ñ
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- –£–≤—ñ–º–∫–Ω—ñ—Ç—å –∞—É–¥–∏—Ç API –∑–∞–ø–∏—Ç—ñ–≤

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è JWT —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
openssl rand -base64 32

# –î–æ–¥–∞–π—Ç–µ –¥–æ .env.local
JWT_SECRET=your-generated-secret
```

## üìà –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### Horizontal Scaling

- –î–æ–¥–∞–π—Ç–µ –±—ñ–ª—å—à–µ Celery workers –¥–ª—è ML –∑–∞–¥–∞—á
- –ú–∞—Å—à—Ç–∞–±—É–π—Ç–µ Kafka partitions –¥–ª—è –±—ñ–ª—å—à–æ–≥–æ throughput
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ ClickHouse –∫–ª–∞—Å—Ç–µ—Ä –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –æ–±—Å—è–≥—ñ–≤ –¥–∞–Ω–∏—Ö

### Performance Optimization

- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ connection pooling
- –£–≤—ñ–º–∫–Ω—ñ—Ç—å –∫–µ—à—É–≤–∞–Ω–Ω—è Redis
- –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ ClickHouse –∑–∞–ø–∏—Ç–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—é—Ü—ñ—è

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∑–º—ñ–Ω–∏ (`git commit -m 'Add amazing feature'`)
4. Push –¥–æ branch (`git push origin feature/amazing-feature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –ø—ñ–¥ MIT License - –¥–∏–≤—ñ—Ç—å—Å—è [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- üìß Email: <support@ai-buyer.com>
- üí¨ Discord: [AI-Buyer Community](https://discord.gg/ai-buyer)
- üìñ Documentation: [docs.ai-buyer.com](https://docs.ai-buyer.com)
- üêõ Issues: [GitHub Issues](https://github.com/ai-buyer/ai-buyer/issues)

## üôè –ü–æ–¥—è–∫–∏

- [DeepCTR](https://github.com/shenweichen/DeepCTR) - –ó–∞ CTR prediction –º–æ–¥–µ–ª—ñ
- [Prophet](https://facebook.github.io/prophet/) - –ó–∞ time series forecasting
- [FastAPI](https://fastapi.tiangolo.com/) - –ó–∞ —á—É–¥–æ–≤–∏–π API framework
- [ClickHouse](https://clickhouse.com/) - –ó–∞ –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—É –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—É –ë–î
